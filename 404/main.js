// 404 page using mapbox to show cities around the world.




// Twenty cities.
// Each is represented as map bounds, and a zoom level.
var places = [

  // Rome
  [
    [41.93931813704912, 12.615394592285156],
    [41.853835750320805, 12.395668029785154],
    13
  ],
  // Rome (zoomed in)
  [
    [41.88751847956533, 12.470169067382812],
    [41.9088885368035, 12.525100708007812],
    15
  ],

  // Seoul
  [
    [37.48807161169388, 126.91131591796875],
    [37.579140426627504, 127.13104248046874],
    13
  ],

  // New York
  [
    [40.763706254473156, -73.92708778381346],
    [40.741957213624104, -73.98201942443848],
    15
  ],

  // Dubai
  [
    [25.310976774071104, 55.514259338378906],
    [25.20711557990318, 55.294532775878906],
    13
  ],

  // London
  [
    [51.53800754877571, -0.000171661376953125],
    [51.466520629166574, -0.21989822387695312],
    13
  ],

  // Washington
  [
    [38.91748290925007, -76.90567016601562],
    [38.8280740971219, -77.12539672851561],
    13
  ],

  // Paris
  [
    [48.894292519017405, 2.455272674560547],
    [48.81873294305852, 2.235546112060547],
    13
  ],

  // Chicago
  [
    [41.90499198925327, -87.63755321502686],
    [41.88362062793376, -87.69248485565186],
    15
  ],

  // Beijing
  [
    [39.969753220824714, 116.47481918334962],
    [39.88168394982042, 116.2550926208496],
    13
  ],

  // Tokyo
  [
    [35.749577285170716, 140.0224685668945],
    [35.562953482850716, 139.58301544189453],
    12
  ],

  // SÃ£o Paulo
  [
    [-23.4958381136174, -406.5528488159179],
    [-23.601115829818806, -406.7725753784179],
    13
  ],

  // Lima
  [
    [-12.023538844888472, -76.93021774291992],
    [-12.1358374079012, -77.14994430541992],
    13
  ],

  // Cape Town
  [
    [-33.88908500017752, 18.567237854003906],
    [-33.984363728291875, 18.347511291503906],
    13
  ],

  // Cairo
  [
    [30.107711894858795, -328.6244201660156],
    [30.008314483556386, -328.8441467285156],
    13
  ],

  // Istanbul
  [
    [41.075986705231024, -330.87541580200195],
    [40.989357752422926, -331.09514236450195],
    13
  ],

  // Moscow
  [
    [55.7607121034917, -322.34633445739746],
    [55.744554859507126, -322.40126609802246],
    15
  ],

  // Montreal
  [
    [45.49729318531874, -73.55501174926758],
    [45.4771652608059, -73.60994338989258],
    15
  ],

  // Mexico City
  [
    [19.450730301420336, -818.9583206176758],
    [19.342406968985642, -819.1780471801758],
    13
  ],

  // Karachi
  [
    [24.896557975423022, -652.8723335266113],
    [24.792344907077926, -653.0920600891113],
    13
  ],

  // New Orleans
  [
    [29.99225891379294, -810.0245475769043],
    [29.892745738833373, -810.2442741394043],
    13
  ],
  // New Orleans (zoomed in)
  [
    [29.955938475979412, -810.0729560852051],
    [29.931060426756968, -810.12788772583],
    15
  ]

];


// Helper to generate the kind of coordinate pairs I'm using to store cities
function bounds() {
  var mapbounds = map.getBounds();
  return [
    [mapbounds._northEast.lat, mapbounds._northEast.lng],
    [mapbounds._southWest.lat, mapbounds._southWest.lng],
    map.getZoom()
  ];
}


L.mapbox.accessToken = "pk.eyJ1IjoiY29udHJvdmVyc2lhbCIsImEiOiJjaXMwaXEwYjUwM2l6MnpwOHdodTh6Y24xIn0.JOD0uX_n_KXqhJ7ERnK0Lg";
var map = L.mapbox.map("map", "mapbox.pencil", {zoomControl: false});

function go(index) {
  index = typeof index === "undefined" ? Math.floor(Math.random() * places.length) : index;
  var coords = places[index];
  map.fitBounds(coords.slice(0, 2));
  map.setZoom(coords[2]);
}

go();
